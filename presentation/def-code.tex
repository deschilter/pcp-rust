%% Listings Paket ------------------------------------------------------
%%% Doc: ftp://tug.ctan.org/pub/tex-archive/macros/latex/contrib/listings/listings-1.3.pdf
\usepackage{listings, ../latex-lib/listings-rust/listings-rust}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.5,0,0.33}
\definecolor{codepurblue}{rgb}{0.16,0.0,1.0}
\definecolor{backcolour}{rgb}{1,0.94,0.70}

\lstset{
    basicstyle =\ttfamily\color{black}\small, % Standardschrift
    commentstyle=\color{codegreen},
    keywordstyle=\bfseries\color{codepurple},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurblue},
    numbers = left,              % Ort der Zeilennummern
    tabsize=2,              % Groesse von Tabs
    breakatwhitespace=false,              % An Leerzeichen umbrechen
%showspaces=true,			  % Leerzeichen anzeigen
    backgroundcolor=\color{backcolour},      % % Hintergrundfarbe der Listings
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
}

% Code auschnitt importieren aus datei
% example:
%\mylisting{from}{to}{language}{file}{descr}{path}
\newcommand{\mylisting}[6]{
    \lstinputlisting[language=#3,
        firstnumber=#1,
        firstline=#1,
        lastline=#2,
        caption={#4, #5},
        label={implementation_listing_#4_#5}]
    {#6}
}

%% End Listings Paket ------------------------------------------------------

%% Output console ----------------------------------------------------

%example:
%\begin{codeoutput}[red]
%This is some text inside a display environment.
%\end{codeoutput}

\usepackage{verbatim}
\definecolor{outputbackground}{rgb}{0.9, 0.9, 0.9}
\newenvironment{codeoutput}[1][black]{%
    \par\noindent
    \adjustbox{margin=1ex,bgcolor=outputbackground,margin=0ex \medskipamount}%
    \bgroup
    \minipage{\dimexpr\linewidth-2ex\relax}
    \verbatim
    \ttfamily
    \color{#1} % Set text color
    }{%
    \endverbatim
    \endminipage
    \egroup
}

%% End Output console ----------------------------------------------------
